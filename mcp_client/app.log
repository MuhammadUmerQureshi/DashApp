2025-07-21 20:05:14 - mcp.server.lowlevel.server - DEBUG - Initializing server 'saudi-location-intelligence'
2025-07-21 20:05:14 - mcp.server.lowlevel.server - DEBUG - Registering handler for ListToolsRequest
2025-07-21 20:05:14 - mcp.server.lowlevel.server - DEBUG - Registering handler for CallToolRequest
2025-07-21 20:05:14 - mcp.server.lowlevel.server - DEBUG - Registering handler for ListResourcesRequest
2025-07-21 20:05:14 - mcp.server.lowlevel.server - DEBUG - Registering handler for ReadResourceRequest
2025-07-21 20:05:14 - mcp.server.lowlevel.server - DEBUG - Registering handler for PromptListRequest
2025-07-21 20:05:14 - mcp.server.lowlevel.server - DEBUG - Registering handler for GetPromptRequest
2025-07-21 20:05:14 - mcp.server.lowlevel.server - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-07-21 20:05:14 - tools.auth_tools - INFO - Registering authentication tools with MCP server
2025-07-21 20:05:14 - tools.geospatial - INFO - Registering geospatial tools with MCP server
2025-07-21 20:05:14 - tools.natural_language_hub_analyzer - INFO - Registering natural language hub analyzer tool with MCP server
2025-07-21 20:05:14 - mcp.server.fastmcp.resources.resource_manager - DEBUG - Adding resource
2025-07-21 20:05:14 - mcp.server.fastmcp.resources.resource_manager - DEBUG - Adding resource
2025-07-21 20:05:14 - mcp_server - INFO - ðŸ‡¸ðŸ‡¦ Saudi Location Intelligence MCP Server
2025-07-21 20:05:14 - mcp_server - INFO - ðŸ“± Starting stdio transport (compatible with Claude Desktop)
2025-07-21 20:05:14 - mcp_server - INFO - Session manager initialized with base path: F:\Upwork Projects\Abdullah\backend22\tool_bridge_mcp_server\sessions
2025-07-21 20:05:14 - mcp_server - INFO - Effective data manager initialized
2025-07-21 20:05:14 - mcp_server - INFO - ðŸš€ Saudi Location Intelligence MCP Server starting...
2025-07-21 20:05:14 - mcp_server - INFO - Background session cleanup task started with HandleManager.
2025-07-21 20:05:14 - mcp_server - INFO - Starting automated cleanup cycle...
2025-07-21 20:05:14 - mcp_server - INFO - CLEANUP: Starting cleanup of sessions older than 8 hours
2025-07-21 20:05:14 - mcp_server - INFO - CLEANUP: Completed - {'cleaned': 0, 'freed_mb': 0.0, 'errors': []}
2025-07-21 20:05:14 - mcp_server - INFO - CLEANUP: Starting cleanup of sessions larger than 100MB
2025-07-21 20:05:14 - mcp_server - INFO - CLEANUP: Completed large session cleanup - {'cleaned': 0, 'freed_mb': 0.0, 'errors': []}
2025-07-21 20:05:14 - mcp.server.lowlevel.server - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-07-21 20:05:14 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000016971B63750>
2025-07-21 20:05:14 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-07-21 20:05:14 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-07-21 20:05:14 - mcp_server - INFO - No session in memory, scanning disk for valid sessions...
2025-07-21 20:05:14 - mcp_server - INFO - Cleanup completed: No sessions removed. Storage stats: {'total_sessions': 2, 'total_size_mb': 0.23, 'total_files': 8, 'largest_session_mb': 0.21, 'oldest_session': datetime.datetime(2025, 7, 21, 20, 1, 38, 275860), 'newest_session': datetime.datetime(2025, 7, 21, 20, 4, 7, 426904)}
2025-07-21 20:05:14 - mcp_server - INFO - ðŸŽ¯ Session 60c3d125 logging started
2025-07-21 20:05:14 - mcp_server - INFO - Loaded session from disk: 60c3d125
2025-07-21 20:05:14 - tools.natural_language_hub_analyzer - INFO - Processing hub expansion analysis for Riyadh, Saudi Arabia for user: V0v19WIHGygyLguNtYnY4xTnjIg2
2025-07-21 20:05:14 - tools.natural_language_hub_analyzer - INFO - Calling internal hub expansion API: http://localhost:8000/fastapi/hub_expansion_analysis
2025-07-21 20:05:22 - tools.natural_language_hub_analyzer - INFO - Hub expansion API response status: 200
2025-07-21 20:05:22 - tools.natural_language_hub_analyzer - INFO - Hub expansion API call successful
2025-07-21 20:05:22 - tools.natural_language_hub_analyzer - INFO - Storing hub expansion analysis data
2025-07-21 20:05:22 - mcp_server - INFO - STORE: Saving hub_expansion data for riyadh to hub_expansion_riyadh_20250721_200522_60c3d125.json
2025-07-21 20:05:22 - mcp_server - INFO - STORE: Successfully stored data with handle: hub_expansion_riyadh_20250721_200522_60c3d125.json
2025-07-21 20:05:22 - tools.natural_language_hub_analyzer - INFO - Analysis data stored with handle: hub_expansion_riyadh_20250721_200522_60c3d125.json
2025-07-21 20:05:22 - tools.natural_language_hub_analyzer - INFO - Generating comprehensive markdown report
2025-07-21 20:05:22 - tools.natural_language_hub_analyzer - INFO - Calling generate_markdown_report
2025-07-21 20:05:22 - tools.natural_language_hub_analyzer - INFO - Report content generated, length: 7387 characters
2025-07-21 20:05:22 - tools.natural_language_hub_analyzer - INFO - Calling save_report_to_file
2025-07-21 20:05:22 - mcp.server.lowlevel.server - DEBUG - Response sent
